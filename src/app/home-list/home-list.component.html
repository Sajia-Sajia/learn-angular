<!-- Refresh button -->
<div class="mb-6">
    <button (click)="refreshHomes()" class="px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition">Refresh Listings</button>
  </div>
  
  <!-- Loading state -->
  <!-- @if (isLoading()) {
  <div class="flex justify-center items-center min-h-[200px]">
    <p class="text-gray-500">Loading homes...</p>
  </div>
  } -->
  
  <!-- @if (isLoading()) {
    <div class="flex justify-center items-center min-h-[200px]">
      <lucide-icon img="loader" class="w-8 h-8 text-indigo-500 animate-spin"></lucide-icon>
    </div>
  } -->
  @if (isLoading()) {
    <div class="flex justify-center items-center min-h-[200px]">
      <svg class="w-8 h-8 text-gray-500 animate-spin" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 108 8h-4l3 3 3-3h-4a8 8 0 01-8 8z"></path>
      </svg>
    </div>
  }
  
  <!-- Error state -->
  @else if (error()) {
  <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded">
    <p>{{ error() }}</p>
  </div>
  }
  
 <!-- Homes grid -->
@else {
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      @for (home of homes(); track home.id) {
      <app-home-card [home]="home" (toggleFavorite)="onToggleFavorite($event)"></app-home-card>
      } @empty {
      <p class="text-gray-500 col-span-3 text-center py-12">No homes found. Please check back later.</p>
      }
  </div>
  }